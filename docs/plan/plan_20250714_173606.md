# DevelopmentBanner機能削除実装計画

## 計画策定日時
2025-07-14 17:36:06

## 基本情報
- **プロジェクト**: DevelopmentBanner機能削除
- **ブランチ**: `feature/remove-development-banner`
- **調査結果**: `docs/investigate/investigate_20250714_172951.md`

## 実装方針
調査結果に基づき、以下の方針で実装を行います：

### 1. 基本アプローチ
- **段階的削除**: 各使用箇所から順次削除
- **型安全性確保**: TypeScriptの型チェックで問題を早期発見
- **テスト実行**: 削除後の動作確認を段階的に実施
- **影響範囲限定**: 機能削除による動作への影響を最小化

### 2. 実装戦略
- **リスク最小化**: 低リスクの削除順序を採用
- **段階的確認**: 各段階でテストを実行
- **品質保証**: TypeScriptエラーの完全解消

## 詳細実装タスク

### 段階1: 各使用箇所からDevelopmentBanner削除
**優先度: 高**

1. **login/page.tsx の修正**
   - 削除対象：168-171行のDevelopmentBanner使用部分
   - 削除対象：17行のimport文
   - 削除対象：53行のisUnderDevelopment変数

2. **notifications/[id]/page.tsx の修正**
   - 削除対象：151-155行のDevelopmentBanner使用部分
   - 削除対象：27行のimport文
   - 削除対象：53行のisUnderDevelopment変数

3. **project/page.tsx の修正**
   - 削除対象：225-229行のDevelopmentBanner使用部分
   - 削除対象：23行のimport文
   - 削除対象：156行のisUnderDevelopment変数

4. **project/detail/page.tsx の修正**
   - 削除対象：324-328行のDevelopmentBanner使用部分
   - 削除対象：41行のimport文
   - 削除対象：142行のisUnderDevelopment変数

5. **ExpenseApplicationForm.tsx の修正**
   - 削除対象：67-70行のDevelopmentBanner使用部分
   - 削除対象：13行のimport文
   - 削除対象：41行のisUnderDevelopmentプロパティ
   - 削除対象：56行のisUnderDevelopmentデフォルト値

### 段階2: 関連コンポーネントの isUnderDevelopment プロパティ削除
**優先度: 中**

1. **ProjectDetailDialog.tsx の修正**
   - 削除対象：54行のisUnderDevelopmentプロパティ
   - 削除対象：74行のisUnderDevelopmentデフォルト値
   - 削除対象：110行のdisabled属性での使用

2. **ProjectCard.tsx の修正**
   - 削除対象：40行のisUnderDevelopmentプロパティ
   - 削除対象：51行のisUnderDevelopmentデフォルト値
   - 削除対象：150行のdisabled属性での使用

3. **ProjectList.tsx の修正**
   - 削除対象：33行のisUnderDevelopmentプロパティ
   - 削除対象：43行のisUnderDevelopmentデフォルト値
   - 削除対象：81行のprops渡し

### 段階3: index.tsからエクスポート削除
**優先度: 中**

1. **index.ts の修正**
   - 削除対象：98-101行のDevelopmentBannerエクスポート

### 段階4: コンポーネント本体とテストファイル削除
**優先度: 低**

1. **ファイル完全削除**
   - `DevelopmentBanner.tsx`
   - `DevelopmentBanner.test.tsx`

### 段階5: テスト実行と動作確認
**優先度: 高**

1. **TypeScript型チェック**
   - フロントエンドの型チェック実行
   - エラーの完全解消

2. **ビルド確認**
   - フロントエンドのビルド実行
   - ビルドエラーの解消

3. **動作確認**
   - 各ページの表示確認
   - UI/UXの改善確認

## ファイル変更計画

### 修正対象ファイル (8ファイル)
| ファイル | 変更内容 | 優先度 |
|---------|----------|--------|
| `login/page.tsx` | import文・使用箇所・変数削除 | 高 |
| `notifications/[id]/page.tsx` | import文・使用箇所・変数削除 | 高 |
| `project/page.tsx` | import文・使用箇所・変数削除 | 高 |
| `project/detail/page.tsx` | import文・使用箇所・変数削除 | 高 |
| `ExpenseApplicationForm.tsx` | import文・使用箇所・プロパティ削除 | 高 |
| `ProjectDetailDialog.tsx` | isUnderDevelopmentプロパティ削除 | 中 |
| `ProjectCard.tsx` | isUnderDevelopmentプロパティ削除 | 中 |
| `ProjectList.tsx` | isUnderDevelopmentプロパティ削除 | 中 |

### 削除対象ファイル (3ファイル)
| ファイル | 変更内容 | 優先度 |
|---------|----------|--------|
| `index.ts` | エクスポート削除（98-101行） | 中 |
| `DevelopmentBanner.tsx` | ファイル完全削除 | 低 |
| `DevelopmentBanner.test.tsx` | ファイル完全削除 | 低 |

### 新規作成ファイル
なし

## テスト戦略

### 1. 単体テスト
- **対象**: DevelopmentBannerのテストファイル削除
- **実行タイミング**: 段階4完了時
- **実行環境**: Docker環境

### 2. 統合テスト
- **対象**: 各ページの表示確認
- **実行タイミング**: 段階1完了時
- **実行環境**: Docker環境
- **確認項目**:
  - ログインページの表示
  - 通知詳細ページの表示
  - プロジェクト一覧ページの表示
  - プロジェクト詳細ページの表示
  - 経費申請フォームの表示

### 3. E2Eテスト
- **対象**: UI表示の確認
- **実行タイミング**: 段階5完了時
- **実行環境**: Docker環境
- **確認項目**:
  - バナー非表示の確認
  - UI/UXの改善確認
  - 機能の正常動作確認

### 4. TypeScript型チェック
- **対象**: 全フロントエンドコード
- **実行タイミング**: 各段階完了時
- **実行環境**: Docker環境
- **確認項目**:
  - コンパイルエラーの解消
  - 型定義の整合性確認

## リスク分析と対策

### 1. 低リスク項目
- **機能削除による動作への影響**
  - リスク: なし
  - 対策: 不要（開発中表示のみの機能）

- **既存テストへの影響**
  - リスク: 最小限
  - 対策: テストファイルの削除で対応

- **UI/UXの改善効果**
  - リスク: なし
  - 対策: 改善効果の確認

### 2. 中リスク項目
- **TypeScriptエラーの一時的発生**
  - リスク: 中
  - 対策: 段階的削除とテストの実行

- **8つのファイルの同時修正**
  - リスク: 中
  - 対策: 段階的削除順序の採用

### 3. 対策まとめ
1. **段階的削除**: 各段階でテストを実行
2. **型チェック**: TypeScriptエラーの早期発見
3. **動作確認**: 各ページの表示確認
4. **品質保証**: ビルドエラーの完全解消

## 実装スケジュール

### 推奨実装順序
1. **段階1 (30分)**: 各使用箇所からDevelopmentBanner削除
2. **段階2 (20分)**: 関連コンポーネントの isUnderDevelopment プロパティ削除
3. **段階3 (5分)**: index.tsからエクスポート削除
4. **段階4 (5分)**: コンポーネント本体とテストファイル削除
5. **段階5 (15分)**: テスト実行と動作確認

### 総所要時間
- **合計**: 約75分
- **工数**: 中程度

## 品質保証

### 1. 削除前確認
- 各ファイルの現在の状態確認
- 依存関係の確認
- 使用箇所の特定

### 2. 削除後確認
- TypeScriptエラーの解消
- ビルドエラーの解消
- 動作確認の実施

### 3. 最終確認
- 全ページの表示確認
- UI/UXの改善確認
- 機能の正常動作確認

## 期待される効果

### 1. 保守性向上
- 不要なコードの削除
- コードベースの簡素化
- 保守コストの削減

### 2. UI/UX改善
- 開発中バナーの削除
- より洗練された画面
- ユーザー体験の向上

### 3. コード品質向上
- 使用されていない機能の削除
- TypeScript型定義の整理
- コードの可読性向上

## 実装完了基準

### 1. 機能的基準
- DevelopmentBannerコンポーネントの完全削除
- 各使用箇所からの削除完了
- 関連プロパティの削除完了

### 2. 技術的基準
- TypeScriptエラーの完全解消
- ビルドエラーの完全解消
- テストの成功実行

### 3. 品質基準
- 全ページの正常表示
- UI/UXの改善確認
- 機能の正常動作確認

## 次フェーズ
実装フェーズ（IMPLEMENT）への移行を推奨します。

## 備考
- この実装計画は調査結果に基づいて策定されています
- 実装中に問題が発生した場合は、この計画を適宜更新してください
- 実装完了後は、変更内容のレビューを実施してください