% Admin API（Draft）

ベース: `/api/v1/admin/*`
（実装: `backend/cmd/server/main.go:809` 付近のルートセットアップ、`internal/routes` 参照）

領域例
- エンジニア管理（社員/週報/勤怠/経費/催促/休暇/フォロー/スキル）
- ビジネス（取引先/請求）
- 営業（パイプライン/提案/回答）
- 経理（ダッシュボード/請求書/月次処理/プロジェクトグループ/freee）
- 設定（一般/承認者設定）

TODO
- 各エンドポイントの一覧化とスキーマ
- 権限制御（管理者/マネージャー）

週報 承認フロー（提案・整合ルール）
- ベース: `/api/v1/admin/engineers/weekly-reports`
- 既存: 一覧、詳細、コメント、月次勤怠、集計、エクスポート（`backend/internal/routes/admin_routes.go`）
- 追加（提案）:
  - `PUT /:id/approve` 週報承認（コメント任意）
  - `PUT /:id/reject` 週報却下（コメント必須）
  - `PUT /:id/return` 差し戻し（コメント必須）
  - Body 例
    ```json
    { "comment": "修正してください（○○欄が未記入）" }
    ```
  - 遷移: `submitted -> approved|rejected|returned`
  - バリデーション: 現在 `submitted` のみ遷移可、コメント文字数（1..1000）
  - エラー: 標準エラーモデル、状態不整合は `W003B001`/`W002B002` 相当（422/409）

留意
- 既存の経費/休暇承認と同一のパス命名・認可方針に揃える（`/approve` `/reject`）
- ミドルウェア: Cognito 認証 + AdminRequired（既に適用済み）
- 監査ログ: 変更履歴に承認者ID/コメント/時刻を記録

初期スコープ明確化
- Excel 形式の出力は初期開発では対象外（CSV/PDF のみをサポート）。
- 「分析・レポート」系機能は初期スコープ外（将来検討）。
 - 週報のリマインド/未提出者管理は初期スコープ外（ルート無効化）。
 - アラート機能（設定/検知/統計）は初期スコープ外（ルート無効化）。
 - PDF帳票（スキルシート/請求書）は初期スコープ外（管理ルート無効化）。
