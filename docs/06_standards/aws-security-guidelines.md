# AWS認証セキュリティガイドライン（社内システム開発）

## 開発フェーズ別セキュリティ方針

### Phase 1: 開発初期（現在〜3ヶ月）
**IAMユーザー使用 - 条件付き承認**

#### 必須のセキュリティ対策
1. **MFA（多要素認証）必須**
   ```bash
   # IAMユーザーには必ずMFAを設定
   # Google Authenticator等を使用
   ```

2. **最小権限の原則**
   ```json
   {
     "Version": "2012-10-17",
     "Statement": [{
       "Effect": "Allow",
       "Action": [
         "cognito-idp:*",
         "s3:*"
       ],
       "Resource": [
         "arn:aws:cognito-idp:ap-northeast-1:*:userpool/*",
         "arn:aws:s3:::monstera-*"
       ]
     }]
   }
   ```

3. **アクセスキーの管理**
   - 90日ごとの自動ローテーション
   - Git管理から完全除外
   - 1Password等での集中管理

### Phase 2: 統合テスト（3〜6ヶ月）
**セキュリティ評価と移行準備**

1. **セキュリティ監査**
   - AWS CloudTrailでの操作記録
   - 不正アクセスの監視

2. **IAM Identity Center移行評価**
   - コスト対効果の分析
   - 移行計画の策定

### Phase 3: 本番準備（6ヶ月〜）
**本番環境は必ずIAM Identity Center**

1. **完全な職務分離**
   - 開発者アクセス制限
   - 本番操作の承認フロー

2. **監査要件の充足**
   - SOC2準拠レベル
   - アクセスログの長期保管

## 社内システム特有の考慮事項

### 情報セキュリティポリシーとの整合性
```yaml
必須要件:
  - 個人情報保護法準拠
  - 社内セキュリティ規程遵守
  - 定期的なアクセス権限棚卸

推奨要件:
  - ISO27001準拠
  - ゼロトラストアーキテクチャ
```

### 例外承認プロセス
IAMユーザー使用の例外承認テンプレート：

```
申請日: 2024-XX-XX
申請者: 開発責任者
承認者: 情報システム部門長

【例外事項】
開発効率化のため一時的にIAMユーザーを使用

【リスク対策】
1. MFA必須設定
2. 開発環境限定
3. 3ヶ月後に再評価

【期限】
2024-XX-XX まで（3ヶ月）
```

## 推奨アクションプラン

### 即時実施（1週間以内）
1. IAMユーザー作成とMFA設定
2. CloudTrail有効化
3. セキュリティポリシー文書化

### 短期実施（1ヶ月以内）
1. アクセスキーローテーション自動化
2. 監視アラート設定
3. セキュリティレビュー実施

### 中期計画（3ヶ月）
1. IAM Identity Center移行評価
2. 本番環境設計
3. セキュリティ監査準備