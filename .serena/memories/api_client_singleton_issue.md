# APIクライアントのシングルトン問題

## 問題パターン
`getAuthClient`関数が毎回新しいAxiosインスタンスを作成すると以下の問題が発生する：

1. **パフォーマンス問題**
   - 不要なインスタンス生成によるオーバーヘッド
   - メモリの無駄遣い

2. **インターセプターの重複**
   - 複数のインターセプターが登録される可能性
   - 予期しない動作の原因

3. **ファクトリパターンの無効化**
   - キャッシング機能が使われない
   - ファクトリの利点が失われる

## 正しい実装パターン
```typescript
// ❌ 悪い例
export const getAuthClient = (): AxiosInstance => {
  return createApiClient({ /* 設定 */ }); // 毎回新しいインスタンス
};

// ✅ 良い例
export const getAuthClient = (): AxiosInstance => {
  return factoryClient; // キャッシュされたインスタンスを返す
};
```

## 診断方法
- APIが呼ばれるたびに新しいインスタンスが作成されていないか確認
- DevToolsのNetworkタブで重複リクエストがないか確認
- コンソールにインターセプターの重複ログがないか確認

## 教訓
ファクトリパターンを実装する際は、必ずシングルトンまたはキャッシング機構を適切に利用すること。