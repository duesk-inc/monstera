# 経費カテゴリAPI NETWORK_ERROR パターン

## 問題の概要
経費一覧画面で間欠的に`NETWORK_ERROR`（500）が表示されるが、実際は401認証エラーの誤処理。

## 発生日
2025-08-20

## 根本原因
1. 認証トークンが正しく送信されない場合がある
2. フロントエンドのエラーハンドラーが401を500として誤って処理

## 影響箇所
- `frontend/src/lib/api/error/handler.ts:166-173` - 「その他のエラー」処理で常に500を返す
- `frontend/src/lib/api/expense.ts:655` - getExpenseCategories

## 修正方針
1. エラーハンドリングでAxiosエラーのresponseを正しくチェック
2. 認証エラーを明示的に処理
3. NETWORK_ERRORと実際のHTTPエラーを区別

## 教訓
- エラーハンドリングでは、すべてのエラーケースを明示的に処理する
- デフォルトケースで固定のステータスコードを返さない
- 認証関連のエラーは特に慎重に扱う