# GitHub Issue 作成ガイドライン

## 概要
このドキュメントは、AIがGitHub Issueを作成する際の標準フォーマットとルールを定義します。

## Issue作成の基本原則

### 1. いつIssueを作成するか
- 新機能の実装計画時
- バグ修正の計画時
- リファクタリングや改善の計画時
- 複数人での作業分担が必要な場合
- 長期的なタスク管理が必要な場合

### 2. Issue作成時の必須項目

#### タイトル
```
[種別] 簡潔で明確な説明
```

**種別の例:**
- `[Feature]` - 新機能
- `[Bug]` - バグ修正
- `[Refactor]` - リファクタリング
- `[Docs]` - ドキュメント
- `[Test]` - テスト追加・修正
- `[Chore]` - その他のタスク

**タイトルの例:**
- `[Feature] エンジニア管理画面の週報一覧機能を実装`
- `[Bug] ログイン時のセッション有効期限エラーを修正`
- `[Refactor] 認証ミドルウェアのエラーハンドリングを改善`

#### 概要（Description）
以下のテンプレートを使用：

```markdown
## 概要
[1-2文で課題や機能の概要を記載]

## 背景・目的
[なぜこの作業が必要かを説明]

## 詳細
[具体的な内容や技術的な詳細を記載]

## 関連Issue/PR
- #[番号] [関連するIssueやPRのリンク]
```

#### 受入基準（Acceptance Criteria）
```markdown
## 受入基準
- [ ] [具体的で検証可能な条件1]
- [ ] [具体的で検証可能な条件2]
- [ ] [具体的で検証可能な条件3]

### 例：
- [ ] ユーザーが週報一覧画面にアクセスできる
- [ ] 週報の検索・フィルタリング機能が動作する
- [ ] ページネーションが正しく動作する
- [ ] 適切なエラーハンドリングが実装されている
- [ ] テストカバレッジが80%以上である
```

#### タスクリスト（Tasks）
```markdown
## タスク
### バックエンド
- [ ] APIエンドポイントの実装
- [ ] データベーススキーマの更新
- [ ] ビジネスロジックの実装
- [ ] バリデーション処理の実装
- [ ] テストコードの作成

### フロントエンド
- [ ] UIコンポーネントの実装
- [ ] 状態管理の実装
- [ ] API連携の実装
- [ ] エラーハンドリングの実装
- [ ] テストコードの作成

### その他
- [ ] ドキュメントの更新
- [ ] マイグレーションファイルの作成
- [ ] 環境変数の設定
```

#### 優先度・ラベル

**優先度ラベル:**
- `priority: critical` - 緊急かつ重要（即座に対応が必要）
- `priority: high` - 重要（今スプリント内で対応）
- `priority: medium` - 通常（次スプリント以降で対応）
- `priority: low` - 低優先度（余裕があれば対応）

**種別ラベル:**
- `type: feature` - 新機能
- `type: bug` - バグ
- `type: enhancement` - 改善
- `type: documentation` - ドキュメント
- `type: test` - テスト

**技術ラベル:**
- `frontend` - フロントエンド関連
- `backend` - バックエンド関連
- `database` - データベース関連
- `infrastructure` - インフラ関連
- `security` - セキュリティ関連

**状態ラベル:**
- `status: ready` - 着手可能
- `status: in-progress` - 作業中
- `status: blocked` - ブロック中
- `status: review` - レビュー中

### 3. Issue作成時のチェックリスト

作成前に以下を確認：
- [ ] タイトルは明確で検索しやすいか
- [ ] 概要は第三者が理解できる内容か
- [ ] 受入基準は具体的で検証可能か
- [ ] タスクは適切に分解されているか
- [ ] 優先度は適切に設定されているか
- [ ] 関連するIssue/PRがリンクされているか

### 4. GitHub CLIを使用したIssue作成

```bash
# 基本的なIssue作成コマンド
gh issue create \
  --title "[Feature] エンジニア管理画面の週報一覧機能を実装" \
  --body "$(cat issue_body.md)" \
  --label "type: feature,priority: high,frontend,backend" \
  --assignee "@me"

# テンプレートを使用したIssue作成
gh issue create \
  --title "[タイトル]" \
  --body-file .github/ISSUE_TEMPLATE/feature_request.md \
  --label "適切なラベル"
```

### 5. Issueテンプレートの例

```markdown
## 概要
[機能や問題の簡潔な説明]

## 背景・目的
[この作業が必要な理由]

## 詳細
[技術的な詳細や実装方針]

## 受入基準
- [ ] [条件1]
- [ ] [条件2]
- [ ] [条件3]

## タスク
### 実装
- [ ] [タスク1]
- [ ] [タスク2]

### テスト
- [ ] 単体テスト作成
- [ ] 統合テスト作成

### ドキュメント
- [ ] README更新
- [ ] API仕様書更新

## 関連Issue/PR
- 関連: #[番号]

## 備考
[その他の注意事項]
```

## 補足事項

### マイルストーンの設定
- スプリント単位でマイルストーンを設定
- リリース予定がある場合は、リリースバージョンをマイルストーンに設定

### 見積もり
- 必要に応じて作業見積もり時間を記載
- 例: `estimate: 8h`、`estimate: 2d`

### 依存関係
- 他のIssueに依存する場合は明記
- 例: `Depends on #123`、`Blocked by #456`

### 定期的な更新
- 進捗に応じてIssueのコメントで状況を更新
- ブロッカーが発生した場合は即座に報告
- 仕様変更があった場合は、Issueの内容を更新

## Issue作成後の流れ

1. **作成通知** - 関係者に通知（自動）
2. **優先度確認** - PMまたはリードが優先度を確認
3. **アサイン** - 担当者を決定
4. **作業開始** - `status: in-progress`ラベルを付与
5. **PR作成** - Issueに紐づくPRを作成
6. **レビュー** - コードレビューとテスト
7. **完了** - PRマージ後、Issueをクローズ